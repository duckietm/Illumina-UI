/*!
 * @pixi/canvas-extract - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/canvas-extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@pixi/core"),t=require("@pixi/utils"),r=new(require("@pixi/math").Rectangle),n=function(){function n(e){this.renderer=e}return n.prototype.image=function(e,t,r){var n=new Image;return n.src=this.base64(e,t,r),n},n.prototype.base64=function(e,t,r){return this.canvas(e).toDataURL(t,r)},n.prototype.canvas=function(n,a){var o,i,u,s=this.renderer;n&&(u=n instanceof e.RenderTexture?n:s.generateTexture(n)),u?(o=u.baseTexture._canvasRenderTarget.context,i=u.baseTexture._canvasRenderTarget.resolution,a=null!=a?a:u.frame):(o=s.rootContext,i=s.resolution,a||((a=r).width=s.width,a.height=s.height));var h=Math.round(a.x*i),d=Math.round(a.y*i),c=Math.round(a.width*i),x=Math.round(a.height*i),g=new t.CanvasRenderTarget(c,x,1),p=o.getImageData(h,d,c,x);return g.context.putImageData(p,0,0),g.canvas},n.prototype.pixels=function(t,n){var a,o,i,u=this.renderer;t&&(i=t instanceof e.RenderTexture?t:u.generateTexture(t)),i?(a=i.baseTexture._canvasRenderTarget.context,o=i.baseTexture._canvasRenderTarget.resolution,n=null!=n?n:i.frame):(a=u.rootContext,o=u.resolution,n||((n=r).width=u.width,n.height=u.height));var s=Math.round(n.x*o),h=Math.round(n.y*o),d=Math.round(n.width*o),c=Math.round(n.height*o);return a.getImageData(s,h,d,c).data},n.prototype.destroy=function(){this.renderer=null},n.extension={name:"extract",type:e.ExtensionType.CanvasRendererPlugin},n}();exports.CanvasExtract=n;
//# sourceMappingURL=canvas-extract.min.js.map
